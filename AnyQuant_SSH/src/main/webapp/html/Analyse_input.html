<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <!--tab上的小图标-->
    <link rel="shortcut icon" href="/image/short_cut.png">
    <link rel="stylesheet" type="text/css" href="/css/navigator.css">
    <link rel="stylesheet" type="text/css" href="/css/Analyse.css">
    <link rel="stylesheet" href="/css/window.css" type="text/css">
    <link rel="stylesheet" type="text/css" href="http://cdn.datatables.net/1.10.7/css/jquery.dataTables.css">
    <link rel="stylesheet" type="text/css" href="/css/loadingbar.css" />
    <title>Duck 回测参数配置</title>
    <meta charset="UTF-8">
    <script src="/js/loadingbar.js"></script>
    <script type="text/javascript" src="http://cdn.hcharts.cn/jquery/jquery-1.8.3.min.js"></script>
    <script type="text/javascript" src="http://www.sunsean.com/idTabs/jquery.idTabs.min.js"></script>
    <script type="text/javascript" charset="utf8" src="http://cdn.datatables.net/1.10.7/js/jquery.dataTables.js"></script>
    <script type="text/javascript" src="/js/datepicker.js"></script>
    <script src="https://code.highcharts.com/stock/modules/exporting.js"></script>
    <script src="https://code.highcharts.com/stock/highstock.js"></script>
    <script src="/js/Analyse.js"></script>

    <link rel="stylesheet" type="text/css" href="/css/buttons.css">
    <!--<link rel="stylesheet" type="text/css" href="/css/flat-ui.css">-->
    <link rel="stylesheet" type="text/css" href="/css/datepicker/jquery-ui.css" />


</head>

<body id="s8">

<!-- navigator begin -->
<div id="nav_bar">
    <img src="/image/duck_icon_pink.png" style="width: 73px;height: 35px;float: left;margin-top:7px;margin-left: 10px">
    <!--<div style="font-size: 30px;float: left;color: #ffffff;margin-left: 10px;margin-top: 7px;">DUCK</div>-->
    <ul id="nav_box">
        <li class="nav_item">
            <a class="nav_c" href="duck_main.html">
                <img id= "data_icon" src="/image/data.png">
                <label class="nav_item_name">数据</label>
            </a>
        </li>
        <li class="nav_item">
            <a class="nav_c" href="BoardList.html">
                <img id= "distribute_icon" src="/image/distribute-horizontal-centers.png">
                <label class="nav_item_name">分布</label>
            </a>
        </li>
        <li class="nav_item">
            <a class="nav_c" href="duck_optional.html">
                <img id= "optional_icon" src="/image/optional_stocl.png">
                <label class="nav_item_name">自选股</label>
            </a>
        </li>
        <li class="nav_item">
            <a class="nav_c" href="Analyse_input.html">
                <img id= "regression_test_icon" src="/image/test.png">
                <label class="nav_item_name">回测系统</label>
            </a>
        </li>
        <li class="nav_item">
            <a class="nav_c" href="#">
                <img id= "user_icon" src="/image/user.png">
                <label class="nav_item_name">用户</label>
            </a>
        </li>
    </ul>


</div>
<div id="blank"></div>
<!-- navigator end -->
<!--TAB-->
<span id="usual1" class="usual">

    <div id="tab_content">
        <ul class="tab_ul">
            <li id="first_tab" class="left_radium tab_li"><a href="#tab1" class="selected left_radium tab_item" >推荐策略</a></li>
            <li id="second_tab" class="tab_li"><a href="#tab2" class="tab_item">DIY参数配置</a></li>
        </ul>
    </div>
    <div id="pointer_div"></div>
    <div id="tab1" style="display: block; ">

        <div id="recommand_container" class="input_container">
            <div>
                <label for="strategy" >策略选择</label>
                <select id="strategy" onchange="chooseStrategy()">
                    <option value ="Strategy_PE">Strategy_PE</option>
                    <option value ="Strategy_VOL">Strategy_VOL</option>
                </select>
            </div>

            <div>
                <div>
                <label id="basecode_label"for="basecode" >基准大盘</label>
                <select id="basecode" >
                </select>
            </div>
            <div>
                <label for="capital" >起始资金</label>
                <select id="capital" >
                    <option value="100000">10万</option>
                    <option value="500000">50万</option>
                    <option value="1000000">100万</option>
                    <option value="2000000">200万</option>
                    <option value="5000000">500万</option>
                    <option value="10000000">1000万</option>
                </select>
            </div>
            <div>
                <label for="taxRate" >交易费率</label>
                <input id="taxRate" type="range" min="0" max="1"  step="0.001"  onchange="getTaxRate()"/>
                <label id="taxRate_num">0.5</label>
                <script>
                    function getTaxRate(){
                        document.getElementById("taxRate_num").innerHTML=
                                document.getElementById("taxRate").value;
                    }

                </script>
            </div>
            <div>
                <label for="numOfStock" class="middle" >股票数量</label>
                <input id="numOfStock" type="text" value="10"required/>

            </div>

             <div>
                <label for="interval" class="middle">调仓间隔</label>
                <input id="interval" type="text" value="5"placeholder="输入3~70的数字" required/>

            </div>

            <span class="demo" >
                起始<input type="text" id="start"value="2016-6-1" readonly style="height:16px" />
            </span>
            <span class="demo" >
                结束<input type="text" id="end" value="2016-6-6"readonly style="height:16px" />
            </span>

            </div>

        </div>
        <button id="analysebtn" class="button button-glow button-rounded button-raised button-primary" onclick="doAnalyse()" >
            开始回测
        </button>
    </div>
    <div id="tab2" style="display: none; ">
        <div id="analyseDiv">
            <span id="diy_input1"><!--第一块输入区，股票池，起止日期-->
                <h1>参数Part1</h1>
                <div class="demo" >
                    起始<input type="text" id="start_diy"value="2016-6-1" readonly style="height:16px" />
                </div>
                <div class="demo" >
                    结束<input type="text" id="end_diy" value="2016-6-6"readonly style="height:16px" />
                </div>
               股票池<input type="text" id="search_text_chosen" placeholder="Search..">
                <div id="chosenStockDiv">
                    <table id="chosenStocks" class="display">
                        <thead>
                        <tr>
                            <th>股票名称</th>
                            <th>股票代码</th>
                        </tr>
                        </thead>
                        <tbody>
                        </tbody>

                        <tfoot>
                        </tfoot>

                    </table>
                </div>
                <button id="helpbtn" class="button button-glow button-rounded button-raised button-primary" onclick="factorAnalyse()" >
                    分析因子表现
                </button>
            </span>
            <span id="analyseCharts"><!--各因子的4个图-->
                <span id="allStocksDiv">
                     <input type="text" id="search_text" placeholder="Search..">
                    <table id="allstock_list" class="display">
                        <thead>
                        <tr>
                            <th>股票名称</th>
                            <th>股票代码</th>
                        </tr>
                        </thead>
                        <tbody>
                        </tbody>

                        <tfoot>
                        </tfoot>

                    </table>
                    <div id="loading" class="loading">
                    <span></span>
                    <span></span>
                    <span></span>
                    <span></span>
                    <span></span>
                    <span></span>
                    <span></span>
                    <span></span>
                    <span></span>
                    <p>股票数据加载中。。。</p>
                </div>
                </span>
                <span id="chart1"></span>
                <span id="chart2"></span>
                <span id="chart3"></span>
                <span id="chart4"></span>
            </span>
            <span id="diy_input2"><!--第二块输入区，各因子权重-->
                <h1>参数Part2</h1>
                <table>
                    <tr>
                        <td>市盈率:</td><td><input type="text" value="5" id="pe_text" onchange="redrawpie"/></td></tr>
                    <tr>
                        <td>市净率:</td><td><input type="text" value="5" id="pb_text" onchange="redrawpie"/></td></tr>
                    <tr>
                        <td>5日换手率:</td><td><input type="text" value="5" id="vol5_text" onchange="redrawpie"/></td></tr>
                    <tr>
                        <td>10日换手率:</td><td><input type="text" value="5" id="vol10_text"/></td></tr>
                    <tr>
                        <td>60日换手率:</td><td><input type="text" value="5" id="vol60_text"/></td></tr>
                    <tr>
                        <td>120日换手率:</td><td><input type="text" value="5" id="vol120_text"/></td></tr>
                    <tr>
                        <td>市销率:</td><td><input type="text" value="5" id="ps_text"/></td></tr>
                    <tr>
                        <td>市现率:</td><td><input type="text" value="5" id="pcf_text"/></td></tr>
                </table>

                <button id="factor_to_pie_btn"class="button button-raised button-action button-circle button-jumbo" onclick="redrawpie()">~~</button><!--TODO讲道理应该实时监听输入框，并自动改变pie图-->
                <button id="analysebtn_diy" class="button button-glow button-rounded button-raised button-primary" onclick="doAnalyse_diy()" >
                    开始回测
                </button>
            </span>
            <div id="pie_factors"></div>
        </div>

        </div>
    </div>
</span>
<!--TAB OVER-->




</body>


<script type="text/javascript">
    $(function(){
        $("#start_diy").datepicker({
            showOn: "button",
            buttonImage: "/image/calendar.png",
            buttonImageOnly: true
        });
        $("#end_diy").datepicker({
            showOn: "button",
            buttonImage: "/image/calendar.png",
            buttonImageOnly: true
        });
        $("#start").datepicker({
            showOn: "button",
            buttonImage: "/image/calendar.png",
            buttonImageOnly: true
        });
        $("#end").datepicker({
            showOn: "button",
            buttonImage: "/image/calendar.png",
            buttonImageOnly: true
        });
    });
</script>
</html>